<div class='doc-plugin-timeline' id='doc-plugin-timeline'>
    <h3 class="title">Timeline plugin</h3>


    <div id="myplayer-timeline-container">
        <div style="height: 350px;">
            <div id="myplayer-timeline"></div>
        </div>
        <div id="myplayer-timeline-timeline" style="height: 265px;"></div>
        <div style="clear: both;"></div>
    </div>

    <p>The purpose of this plugin is to represent all the timecoded metadata on a timeline. This plugin is
        composed of two parts. At the top, the time axis where you can navigate and zoom in the timeline.
        You may use either the appropriate
        buttons or the mouse</p>

    <p>Below the time axis, all the timelines are displayed. For a given media, we can display as many
        timelines as desired, each of which may be linked to a different source of metadata displayed with a
        specific type of line. For the moment,
        we have three type of lines :</p>
    <ul>
        <li><strong>cuepoint</strong>: to visualize simple temporal points (<code>localisation</code> with a
            <code>tc</code>
            field)
        </li>
        <li><strong>segment</strong>: to visualize temporal segment (<code>localisation</code> with
            <code>tcin</code> and <code>tcout</code> fields)
        </li>
        <li><strong>image</strong>: to visualize simple temporal points with images
            (<code>localisation</code> with
            <code>tc</code> and <code>thumb</code> fields)
        </li>
    </ul>
    <p>The timeline is synchronized with the player, a progress bar indicates the current position in the
        media and a click on any object represented in the timeline will seek in the media at the correct
        timecode.</p>

    <p>
        The player and the timeline plugin are in two separate
        <code>div</code>
        in your HTML. Again, each of these
        <code>div</code>
        must have an
        <code>id</code>
        that will be referenced in the player initialization javascript code. Below is a simple example. The
        timeline plugin is not necessarily just below the player. It's up to you to set the
        <code>div</code>
        at the correct place.
    </p>
    <pre class="smallpre">
&lt;div id="myplayer-timeline-container"&gt;
        &lt;div style="height: 350px;"&gt;
                &lt;div id="myplayer-timeline"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div id="myplayer-timeline-timeline" style="height: 265px;"&gt;&lt;/div&gt;
        &lt;div style="clear: both;"&gt;&lt;/div&gt;
&lt;/div&gt;
        </pre>
    <h4>Timeline control buttons</h4>

    <p>On the time axis, you will find the following control buttons :</p>
    <table style="margin: 10px">
        <tr>
            <td style="padding: 2px; width: 140px">
                <img src="img/timeaxis_nav.png"/>
            </td>
            <td>slide left and right on the time axis (same as click and drag)</td>
        </tr>
        <tr>
            <td style="padding: 2px; width: 140px">
                <img src="img/timeaxis_size.png"/>
            </td>
            <td>zoom in and out (same as mouse scroll), change the timelines height</td>
        </tr>
    </table>
    <p>On each line, depending on the initialization parameters, you may find the following control buttons
        :</p>
    <table style="margin: 10px">
        <tr>
            <td style="padding: 2px; width: 140px">
                <img src="img/timeline_nav.png"/>
            </td>
            <td>go to previous / next timecoded element</td>
        </tr>
        <tr>
            <td style="padding: 2px; width: 140px">
                <img src="img/timeline_ctrl.png"/>
            </td>
            <td>collapse / expand the line, change the line order in the list (click and drag to move the
                line up or down)
            </td>
        </tr>
    </table>

    <p>In the following example, we create a player and load metadata blocks from three different sources.
        We add the timeline plugin with three lines. Each one of these lines is bound to a different
        metadata block of a specific type.</p>

    <h4>Timeline plugin options:</h4>

    <div id="player-options" class="panel panel-default">
        <div class="panel-body">
            <table class="table table-striped table-hover ">
                <thead>
                <th>Options</th>
                <th>Type</th>
                <th>Description</th>
                <th></th>
                </thead>
                <tbody>
                <tr>
                    <td>listOfLines</td>
                    <td>Array</td>
                    <td>Configuration of all the lines, contains an array of items</td>
                    <td></td>
                </tr>
                <tr>
                    <td>displayLines</td>
                    <td>Number</td>
                    <td>Number of lines to display (default : 3)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>timeaxis</td>
                    <td>Boolean</td>
                    <td>Whether to display the time axis or not (default : true)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>resizable</td>
                    <td>Number</td>
                    <td>allow the user to resize the timeline and collapse/expand the time axis (default :
                        false)
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>timecursor</td>
                    <td>Boolean</td>
                    <td>Display or not the time cursor (default : true)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>nbZoomLevel</td>
                    <td>Number</td>
                    <td>(default : 3)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>zoomCoef</td>
                    <td>Array</td>
                    <td>(default : [1 / 4, 1 / 16, 1 / 64, 1 / 256])</td>
                    <td></td>
                </tr>
                <tr>
                    <td>zoomProperty</td>
                    <td>Array</td>
                    <td> (default : tclevel)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>displayState</td>
                    <td>Array</td>
                    <td>(default : "")</td>
                    <td></td>
                </tr>
                <tr>
                    <td>viewZoomSync</td>
                    <td>Boolean</td>
                    <td> (default : tclevel)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>viewZoomSyncOffset</td>
                    <td>Number</td>
                    <td> (default : tclevel)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>timeaxisExpandable</td>
                    <td>Boolean</td>
                    <td> (default : false)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>editingMode</td>
                    <td>Boolean</td>
                    <td> (default : false)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>thumbRootDirectory</td>
                    <td>String</td>
                    <td>Thumbnail root directory</td>
                    <td></td>
                </tr>
                <tr>
                    <td>thumbDirectory</td>
                    <td>String</td>
                    <td>Thumbnail directory, it override by line configuration.</td>
                    <td></td>
                </tr>

                <tr>
                    <td>lineDisplayMode</td>
                    <td>String</td>
                    <td>Line display mode:<br/>
                        - STATIC : use for line configuration with parameters.<br/>
                        - DYNAMIC : use for line configuration with dynamic binding data type (see metadata data type).<br/>
                        - STATIC_DYNAMIC : use for line configuration with parameters and binding with data type.<br/>
                    </td>
                    <td>Default value: STATIC</td>
                </tr>
                </tbody>
            </table>
            <p>Then, for each line, you have the following main parameters available :</p>
            <table class="table table-striped table-hover ">
                <thead>
                <th>Options</th>
                <th>Type</th>
                <th>Description</th>
                <th></th>
                </thead>
                <tbody>
                <tr>
                    <td>metadataId</td>
                    <td>String</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>String</td>
                    <td>cuepoint, segment or image</td>
                    <td></td>
                </tr>
                <tr>
                    <td>controlBarClassName</td>
                    <td>String</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>title</td>
                    <td>Number</td>
                    <td>Label of this line</td>
                    <td></td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>String</td>
                    <td>Color of items (default : #FFF)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>icon</td>
                    <td>String</td>
                    <td>Icon representing items, to be choosen in the Font Awesome list (default : circle)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>pointNav</td>
                    <td>Boolean</td>
                    <td>Display navigation option on this line (default : false)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>zoomable</td>
                    <td>Boolean</td>
                    <td>Sets wheter this line zoom level is synchronized with the time axis or not (default : true)</td>
                    <td></td>
                </tr>

                <tr>
                    <td>zoomHierarchies</td>
                    <td>Boolean</td>
                    <td>Enable the hierarchical zoom.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>overlap</td>
                    <td>Boolean</td>
                    <td>Enable overlap mode.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>withParentLevel</td>
                    <td>Boolean</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>focusable</td>
                    <td>Boolean</td>
                    <td>Enable focus component.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>toolsbar</td>
                    <td>Boolean</td>
                    <td>Enable tools bar.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>editable</td>
                    <td>Boolean</td>
                    <td>Enable edit mode.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>viewZoom</td>
                    <td>Boolean</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>timecursor</td>
                    <td>Boolean</td>
                    <td>Enable line cursor.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>thumbDirectory</td>
                    <td>Boolean</td>
                    <td>Thumbnail directory for that line.</td>
                    <td></td>
                </tr>
                <tr>
                    <td>callback</td>
                    <td>String</td>
                    <td>callback function when user selected line</td>
                    <td></td>
                </tr>
                <tr>
                    <td>callbackStyle</td>
                    <td>String</td>
                    <td>Set css class name for callback button</td>
                    <td></td>
                </tr>
                </tbody>
            </table>
            </dl>
        </div>
    </div>


    <div>
        <h3 class="title">Example</h3>

        <div class="example">
                    <pre class="smallpre">

$("#myplayer-timeline").mediaPlayer({
    autoplay : false,
    src : "samples-data/examples/vid/amalia01.mp4",
    plugins: {
        dataServices: [
            'samples-data/examples/json/amalia01-events.json',
            'samples-data/examples/json/amalia01-kf.json',
            'samples-data/examples/json/amalia01-ball.json'
        ],
        list: [
            {
                'className': 'fr.ina.amalia.player.plugins.TimelinePlugin',
                'container': '#myplayer-timeline-timeline',
                'parameters': {
                    listOfLines: [
                        {
                            title: 'Events',
                            type: 'cuepoint',
                            metadataId: 'events-amalia01',
                            color: '#3CF',
                            pointNav: true
                        },
                        {
                            title: 'Ball moving up',
                            type: 'segment',
                            metadataId: 'ball-amalia01',
                            color: '#F00'
                        },
                        {
                            title: 'Keyframes every 2s',
                            type: 'image',
                            metadataId: 'kf-amalia01',
                            pointNav: true
                        },
                    ]
                }
            }
        ]
    }
});
        </pre>
        </div>
    </div>

    <!-- Tutorial - timeline plugin -->
    <script type="text/javascript">
        $(function () {
            $("#myplayer-timeline").mediaPlayer({
                autoplay: false,
                src: "samples-data/examples/vid/amalia01.mp4",
                plugins: {
                    dataServices: [
                        'samples-data/examples/json/amalia01-events.json',
                        'samples-data/examples/json/amalia01-kf.json',
                        'samples-data/examples/json/amalia01-ball.json'
                    ],
                    list: [{
                        'className': 'fr.ina.amalia.player.plugins.TimelinePlugin',
                        'container': '#myplayer-timeline-timeline',
                        'parameters': {
                            listOfLines: [{
                                title: 'Events',
                                type: 'cuepoint',
                                metadataId: 'events-amalia01',
                                color: '#3CF',
                                pointNav: true
                            }, {
                                title: 'Ball moving up',
                                type: 'segment',
                                metadataId: 'ball-amalia01',
                                color: '#F00'
                            }, {
                                title: 'Keyframes every 2s',
                                type: 'image',
                                metadataId: 'kf-amalia01',
                                pointNav: true
                            },]
                        }
                    }]
                }
            });
        });
    </script>
</div>
