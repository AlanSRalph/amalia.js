<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Showcases Amalia.js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../css/default.css" rel="stylesheet" type="text/css"/>
    <link href="http://www-player-i.ina.fr/libs/amalia.js/css/amalia.js.min.css" rel="stylesheet"/>
    <link href="http://www-player-i.ina.fr/libs/bower_components/jquery-ui/themes/base/all.css" rel="stylesheet"/>

    <!--Utils-->
    <script src="http://www-player-i.ina.fr/libs/bower_components/jquery/dist/jquery.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/bower_components/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/bower_components/raphael/raphael-min.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/amalia.js/js/amalia.js.min.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/amalia.js/js/amalia.js-plugin-overlay.min.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/amalia.js/js/amalia.js-plugin-timeline.min.js" type="text/javascript"></script>
    <script src="http://www-player-i.ina.fr/libs/amalia.js/js/amalia.js-plugin-text-sync.min.js" type="text/javascript"></script>
</head>
<body>
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <a href="../" class="navbar-brand">Showcases Amalia.js</a>
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
    </div>
</div>
<div class="container">
    <div class="page-header">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <h3 class="title">Media players</h3>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Simple media player</h3>
                </div>
                <div class="panel-body">
                    <div style="height: 350px;">
                        <div id="player1"></div>
                    </div>
                    <div>
                        <h4>Configuration</h4>

                        <div>
                                    <pre>
 $("#player").mediaPlayer({
                    autoplay : true,
                    src : "http://www-player-i.ina.fr/medias/demo/audi.mp4",
});
                                    </pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Simple media player with sticky control bar</h3>
                </div>
                <div class="panel-body">
                    <div style="height: 250px;">
                        <div id="player2"></div>
                    </div>
                    <div>
                        <h4>Configuration</h4>

                        <div>
                                    <pre>
 $("#player").mediaPlayer({
                    autoplay : false,
                    src : "http://www-player-i.ina.fr/medias/demo/audi.mp4",
                    controlBar :
                    {
                        sticky : true
                    }
});
                                    </pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Media player with custom control bar</h3>
                </div>
                <div class="panel-body">
                    <div style="height: 400px;">
                        <div id="player3"></div>
                    </div>
                    <div class="col-md-8">
                        <div>
                            <h4>Configuration</h4>
                                    <pre>
$("#player").mediaPlayer({
    autoplay : false,
    src : "http://www-player-i.ina.fr/medias/demo/audi.mp4",
    controlBarClassName : "fr.ina.amalia.player.plugins.CustomControlBarPlugin",
    controlBar :
    {
        sticky : true,
        height : 45,
        autohide : false,
        widgets :
            {
                left : {
                    'timelabelWidget' : 'fr.ina.amalia.player.plugins.controlBar.widgets.TimeLabel'
                },
                mid : {
                    'secPrev' : 'fr.ina.amalia.player.plugins.controlBar.widgets.BaseButton',
                    'playWidget' : 'fr.ina.amalia.player.plugins.controlBar.widgets.PlayButton',
                    'pauseWidget' : 'fr.ina.amalia.player.plugins.controlBar.widgets.PauseButton',
                    'secNext' : 'fr.ina.amalia.player.plugins.controlBar.widgets.BaseButton'
                },
                right : {
                    'full' : 'fr.ina.amalia.player.plugins.controlBar.widgets.FullscreenButton',
                    'volume' : 'fr.ina.amalia.player.plugins.controlBar.widgets.VolumeControlBar',
                    'sample' : 'fr.ina.amalia.player.plugins.controlBar.widgets.BaseButton'
                },
                settings : {
                    timelabelWidget : {
                        timeFormat : 's',
                        framerate : 20
                    },
                    sample : {
                        style : 'ajs-icon ajs-icon-control-play',
                        callback : 'myCallback'
                    },
                    secNext : {
                        style : 'ajs-icon ajs-icon-control-fast-forward',
                        callback : 'myCallbackControl',
                        action : 'next'
                    },
                    secPrev : {
                        style : 'ajs-icon ajs-icon-control-fast-rewind',
                        callback : 'myCallbackControl',
                        action : 'prev'
                    }
                }
            }
    }
});
                                    </pre>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div>
                            <h4>Callback</h4>

                            <div id="msg">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12"><a href="http://www.institut-national-audiovisuel.fr/en/home">Institut National de l'Audiovisuel - INA</a> Â© 2015</div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $("#player1").mediaPlayer({
//            autoplay: true,
//            src: "http://www-player-i.ina.fr/medias/demo/audi.mp4",
//            togglePlayPause:true
            autoplay: false,
            src: "http://www-player-i.ina.fr/medias/demo/audi.mp4",
            controlBar: {
                sticky: true,
                autohide: false
            }

        });
        $("#player2").mediaPlayer({
            autoplay: false,
            src: "http://www-player-i.ina.fr/medias/demo/audi.mp4",
            controlBar: {
                sticky: true,
                autohide: false
            }


        });
        $("#player3").mediaPlayer({
            autoplay: false,
            src: "http://www-player-i.ina.fr/medias/demo/audi.mp4",
            controlBarClassName: "fr.ina.amalia.player.plugins.CustomControlBarPlugin",
            controlBar: {
                sticky: true,
                autohide: false,
                widgets: {
                    left: {
                        'timelabelWidget': 'fr.ina.amalia.player.plugins.controlBar.widgets.TimeLabel'
                    },
                    mid: {

                        'playWidget': 'fr.ina.amalia.player.plugins.controlBar.widgets.PlayButton',
                        'pauseWidget': 'fr.ina.amalia.player.plugins.controlBar.widgets.PauseButton',

                    },
                    right: {
                        'full': 'fr.ina.amalia.player.plugins.controlBar.widgets.FullscreenButton',
                        'volume': 'fr.ina.amalia.player.plugins.controlBar.widgets.VolumeControlBar',
                        'sample': 'fr.ina.amalia.player.plugins.controlBar.widgets.BaseButton'
                    },
                    settings: {
                        timelabelWidget: {
                            timeFormat: 's',
                            framerate: 20
                        },
                        sample: {
                            style: 'ajs-icon ajs-icon-eye-on',
                            callback: 'myCallback'
                        }
                    }
                }
            }
        });

    });
    var i = 0;
    function myCallback(player) {
        $('#msg').append("<div><p class='label label-success'>Call [" + i + "] TC: " + player.getCurrentTime() + "/" + player.getDuration() + "</p></div>");
        i++;
    }
    function myCallbackControl(player, param) {
        if (param.action === "prev") {
            player.setCurrentTime(player.getCurrentTime() - 1);
        }
        else if (param.action === "next") {
            player.setCurrentTime(player.getCurrentTime() + 1);
        }
    }
</script>

</body>
</html>